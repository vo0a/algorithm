## [BOJ] #11723 집합

| 시간 제한 | 메모리 제한 | 정답 비율 |
| --------- | ----------- | --------- |
| 1.5 초    | 4 MB        | 29.907%   |

[문제](https://www.acmicpc.net/problem/11723)



| 메모리 | 시간   |
| ------ | ------ |
| 1116KB | 772 ms |

```c++
#include <cstdio>
#include <cstring>
using namespace std;
char b[111];
int n = 20, m, s = 0, x;
int main() {	
	scanf("%d", &m);
	while (m--) {
		scanf("%s", b);
		if (!strcmp(b, "add")) {
			scanf("%d", &x); x--;
			s = (s | (1 << x));
		}
		else if (!strcmp(b, "remove")) {
			scanf("%d", &x); x--;
			s = (s & ~(1 << x));
		}
		else if (!strcmp(b, "check")) {
			scanf("%d", &x); x--;
			int res = (s & (1 << x));
			if (res) {
				puts("1");
			}
			else {
				puts("0");
			}
		}
		else if (!strcmp(b, "toggle")) {
			scanf("%d", &x); x--;
			s = (s ^ (1 << x));
		}
		else if (!strcmp(b, "all")) {
			s = (1 << n) - 1;
		}
		else if (!strcmp(b, "empty")) {
			s = 0;
		}
	}
	return 0;
}
```

- 쉬프트 연산

  - << : 곱하기 2
  - \>> : 나누기 2
    - 보통의 곱셈, 나눗셈보다 빠르기 때문에 보통 이분탐색에서 `(left + right) >> 1`로 mid를 구한다.

- 비트연산

  - 비트 연산을 사용해서 **부분 집합**을 표현할 수 있다.

    - C언어의 경우 bitset를 이용해서 더 큰 비트(백만자리)를 사용할 수 있음
    - 장점
      - 집합을 배열의 인덱스로 표현 → 모든 경우(길이가 N인 부분집합)를 나타낼 때 재귀호출 없이 나타낼 수 있다.
      - 부분집합을 상태로 보고, 상태를 배열의 인덱스에 넣어야 할 때(상태 다이나믹) 유용

  - `if(N % 2 == 1)`은 `if(N & 1)`로 쓸 수 있다.

  - 왜냐하면 나머지 연산으로 마지막 비트가 0 or 1인지만 알면 되기 때문에 N & 1로  줄여서 사용할 수 있다. 

  - 정수로 집합을 나타낼 수 있다.

    - 포함이 되어있는 것을 1, 아닌 것을 0으로 나타낼 수 있다.

    - 길이가 N인 이진수로는 (0 ~ N-1)의 부분집합을 나타낼 수 있다.

    - 가능한 연산

      1. 포함되어 있는지 확인(**검사**)

         - & 연산
         - x가 포함되어있는지 알고 싶다면, x번째 비트만 1로 만든 후 and 연산
         - `S & (1 << x)`

      2. 집합에 원소 **추가**

         - | 연산
         - x가 포함되어있는지 알고 싶다면, x번째 비트만 1로 만든 후 or 연산
         - `S | (1 << x)`

      3. 집합에서 원소 **제거**

         - ~ 연산 → & 연산
         - 제거하려는 위치를 0으로 만들고 나머지를 1로 만든 뒤 and 연산을 하면 된다.
         - `S & ~(1 << x)`

      4. 토글

         - ^ 연산
         - xor 연산을 이용한다.
         - `S ^ (1 << x)`

      5. 전체집합

         - `(1 << N) - 1`

      6. 공집합

         - 0

         

백준 11723 집합 boj acmicpc

